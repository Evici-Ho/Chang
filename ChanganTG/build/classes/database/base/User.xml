<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap
	PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
	"http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="User">
	<typeAlias alias="user" type="com.dl.middleware.base.model.User" />
	
	<insert id="insert" parameterClass="user">
		INSERT INTO user_tbl(userId,openId,contactName,contactPhone,password,post,registerDate,undefined1)
		VALUES(#userId#,#openId#,#contactName#,#contactPhone#,#password#,#post#,#registerDate#,#undefined1#)
		<selectKey resultClass="java.lang.Long" keyProperty="userId">
		    select last_insert_id() as userId from user_tbl limit 1
		</selectKey>
	</insert>
	 
	<select id="listAll" resultClass="user">
	 	select * from user_tbl
	</select>
	
</sqlMap>